
[[sec-metadata]]
== Metadata

=== Introduction
_There are two kinds of metadata to prepare:_

*_ ISO 19139 Metadata_ +
_This kind of metadata implementation can be read by broad range of software._

*_ S100 Metadata_ +
_The S100 metadata are for describing the structure of Exchange Catalogue_

This clause defines the mandatory and optional metadata needed for Marine Weather Warnings Datasets and exchange sets.

For information exchange, there are several categories of metadata required: metadata about the overall exchange catalogue, metadata about each of the datasets contained in the catalogue, and metadata about the support files that make up the package.

The metadata may be repeated in a national language by including an optional and additional instance of the dataset discovery metadata per language other than the mandatory English language instance. If metadata in additional languages to English is provided, each support file will also need to be described in that language and referenced from the appropriate language metadata. English metadata should not reference metadata in another language and vice versa.

The overall structure of metadata in S-412 exchange sets is the same as in S-100, and is depicted in Figure 10. Metadata in exchange sets consists of discovery metadata for the datasets and support files in the exchange set (classes S100_DatasetDiscoveryMetadata and S100_SupportFileDiscoveryMetadata), metadata in ISO 19115-1 format for datasets, and metadata about any feature, portrayal, or interoperability catalogues which are in the exchange set (S100_catalogueMetadata).

The discovery metadata classes have numerous attributes which enable important information about the datasets and accompanying support files to be examined without the need to process the data, for example decrypt, decompress, load, etc. Other catalogues such as feature and portrayal catalogues may be included in the exchange set in support of the datasets.
More detailed information for the classes is depicted in Figure 11 and details about the metadata classes are provided in the tables in clauses 12.1.1 – 12.1.9. The S-100 classes not defined in these clauses may be found in S-100 Part 4A Appendix 4a-D.

The discovery metadata classes have numerous attributes which enable important information about the datasets and accompanying support files to be examined without the need to process the data, e.g. decrypt, decompress, load etc. Other catalogues can be included in the exchange set in support of the datasets such as feature and portrayal catalogues. The attribute “purpose” of the support file metadata provides a mechanism to update support files.

[[fig-Metadata-Overview]]
.S-412 Metadata Overview
image::../images/figure-S-412-Metadata-Overview.png[UML diagram showing an overview of the S-412 Metadata]

[[fig-Metadata-Details]]
.S-412 Metadata Details
image::../images/figure-S-412-Metadata-Details.png[UML diagram showing the detailled S-412 Metadata]

NOTE 1:: Types with CI_, EX_, and MD_ prefixes are from packages defined in ISO 19115-1 and 19115-3 and adapted by S-100. Types with S100_ prefix are from packages defined in S-100.

NOTE 2:: When a dataset is terminated, the purpose metadata field is set to 3 (terminated), and the editionNumber metadata field is set to 0. All inapplicable but mandatory metadata fields must be nilled.

=== Metadata for Datasets

S-412 uses the following tables as detailed in S-100 Part 17, Clause 17-4.5, without modification:

●	S100_ExchangeCatalogue +
●	S100_ExchangeCatalogueIdentifier +
●	S100_CataloguePointofContact +
●	S100_DatasetDiscoveryMetadata +
●	S100_NavigationPurpose +
●	S100_DataCoverage +
●	S100_Purpose +
●	S100_TemporalExtent +
●	S100_EncodingFormat +
●	S100_ProductSpecification +
●	S100_CompliancyCategory +
●	S100_ProtectionScheme +
●	S100_SupportFileDiscoveryMetadata +
●	S100_SupportFileFormat +
●	S100_SupportFileRevisionStatus +
●	S100_SupportFileSpecification +
●	S100_ResourcePurpose +
●	S100_CatalogueDiscoveryMetadata +
●	S100_CatalogueScope +
●	MD_MaintenanceFrequencyCode +
●	CI_DataTypeCode +
●	PT_Locale

The S-124 metadata description is a subset of the metadata described in S-100 Part 17, which is a profile of the ISO 19115 standard. The S-124 metadata model restricts the S-100 metadata model to its core elements; S100_ExchangeCatalogue, S100_DatasetDiscoveryMetadata, S100_CatalogueDiscoveryMetadata and S100_SupportFileDiscoveryMetadata. Moreover, the S100_DatasetDiscoveryMetadata is further restricted to remove attributes that are not relevant to a navigational warning service.

=== S100_DatasetDiscoveryMetadata
_Dataset discovery metadata in S-412 restricts certain attributes and roles as described in <<tab-s100-datasetDiscoveryMetadata-params>>. Optional S-100 attributes which are mandatory in S-412 are indicated in the Remarks column._

[[tab-s100-datasetDiscoveryMetadata-params]]
.S100_DatasetDiscoveryMetadata parameters
[cols="a,a,a,^a,a,a",options="header"]
|===
|Role name |Name |Description |Mult |Type |Remarks

|Class
|S100_DatasetDiscoveryMetadata
|Metadata about the individual datasets in the Exchange Catalogue
|-
|-
|*The optional S-100 attributes _verticalDatum_, _soundingDatum_, _optimumDisplayScale_ and _minimumDisplayScale_ are not used in S-412.* +
_*References to support file discovery metadata are not permitted because S-412 does not use support files.*_

|Attribute
|fileName
|Dataset file name
|1
|URI
|See <<iho-s100,part=1,clause=4.6>> +
*Format: file:/S-412/DATASET_FILES/<dsname>* +
*Dataset file name <dsname> must be according to format defined in <<subsec-dataset-file-naming>>.*

|Attribute
|description
|Short description giving the area of location covered by the dataset
|0..1
|CharacterString
|Short description of the area covered by dataset, e.g., area, harbour, or port name, between two named locations etc.

|Attribute
|datasetID
|Dataset ID expressed as a Maritime Resource Name
|0..1
|URN
|The URN must be an MRN. +
*See <<iho-s100,part=3,clause=10>>*

|Attribute
|compressionFlag
|Indicates if the resource is compressed
|1
|Boolean
|TRUE: Encrypted; indicates a compressed dataset +
FALSE: Unencrypted; indicates an uncompressed dataset

|Attribute
|dataProtection
|Indicates if the resource is compressed
|1
|Boolean
|TRUE: Encrypted; indicates a compressed dataset +
FALSE: Unencrypted; indicates an uncompressed dataset

|Attribute
|protectionScheme
|Specification of method used for data protection
|0..1
|S-100_ProtectionScheme
|See figure 11 and S-100 Appendix 4a -D

|Attribute
|digitalSignatureReference
|Specifies the algorithm used to compute digitalSignatureValue
|1
|S100_DigitalSignatureReference (See Part 15)
|“copyright” for copyrighted datasets, omitted otherwise +
Old Doc: Specifies the algorithm used to compute digitalSignatureValue. +
See Figure 11 and S-100 Appendix 4a-D

|Attribute
|digitalSignatureValue
|Valve derived from the digital signature
|1..*
|S100_SE_DigitalSignatureReference (See Part 15)
|The value resulting from application of digitalSignatureReference +
Implemented as the digital signature format specified in Part 15

|Attribute
|copyright
|Indicates if the dataset is copyrighted
|1
|Boolean
|True indicates the resource is copyrighted +
False indicates that the source is not copyrighted +
Old Doc: “copyright” for copyrighted datasets, omitted otherwise

|Attribute
|classification
|Indicates the security classification of the dataset
|0..1
|Class +
MD_SecurityConstraints>MD_ClassificationCode (codelist) +
ISO 19115-1
|1. unclassified +
2. restricted +
3. confidential +
4. secret +
5. top secret +
6. sensitive but unclassified +
7. for official use only +
8. protected +
9. limited distribution

|Attribute
|purpose
|The purpose for which the dataset has been chosen
|0..1
|S100_purpose
|1.	New dataset +
2.	New edition

|Attribute
|notForNavigation
|Indicates the dataset is not intended to be used for navigation
|1
|Boolean
|True indicates the dataset is not intended to be used for navigation +
False indicates the dataset is intended to be used for navigation 

|Attribute
|specificUsage
|The use for which the is intended
|0..1
|MD_USAGE>specificUsage (character string) +
MD_USAGE>userContactInfo (CI_Responsibility)
|brief description of the resource and/or resource series usage

|Attribute
|editionNumber
|The edition number of the dataset
|0..1
|Integer
|When a dataset is initially created, the edition number “1” is assigned to it. The edition number is increased by one with each new edition.

|Attribute
|updateNumber
|Update number assigned to the dataset and increased by one for each subsequent update
|0..1
|Integer
|Update sequence number, must match the update file name. +
Mandatory only for updating datasets.

|Attribute
|updateApplicationDate
|This data is only used for the base cell files (that is new data set, re-issued, and new edition). not update cell files. All updates dated on or before this date must have been applied by the producer 
|0..1
|Date
|Date of update +
Mandatory  only for updating datasets.

|Attribute
|issueDate
|Date in which the data was made available by the Data Producer
|0..1
|Date
|Date on which the dataset was generated

|Attribute
|issueTime
|Time of day at which the data was made available by the Data Producer
|0..1
|Time
|Encoded only if time of issue is significant

|Attribute
|boundingBox
|The extent of the dataset limits
|0..1
|EX_GeographicBounding Box
|-

|Attribute
|temporalExtent
|Specification of the temporal extent of the dataset
|0..1
|S100_TemporalExtent
|The temporal extent is encoded as the date/time of the earliest and latest data records (in coverage datasets) or date/time ranges (in vector datasets) +
If there is more than one feature in a dataset, the earliest and latest time values of records in all features are used, which means the earliest and latest values may be from different features +
If date/time information for a feature is not encoded in the dataset, it is treated for the purposes of this attribute as extended indefinitely in the appropriate direction on the time axis, limited by the issue date/time or the cancellation or supersession of the dataset +
This attribute is encoded if and only if at least one of the start and end of the temporal extent is known +

|Attribute
|productSpecification
|The product specification used to make this dataset
|1..1
|S100_ProductSpecification
|See Notes below this table for constraints on values

|Attribute
|producerCode
|The official IHO Producer Code from S-62
|0..1
|CharacterString
|

|Attribute
|dataCoverage
|Provides information about data coverages within the dataset
|0..*
|S100_DataCoverage
|See Figure 11 and S-100 Appendix 4a-D. A new or new-edition S-412 dataset must have at least one coverage

|Attribute
|comment
|Any additional information
|0..1
|CharacterString
|Any additional Information

|Attribute
|defaultLocale
|Default language and character set used in the dataset
|0..1
|PT_Locale
|See Figure 11 and S-100 Appendix 4a-D

|Attribute
|otherLocale
|Other languages and character sets used in the dataset
|0..*
|PT_Locale
|See Figure 11 and S-100 Appendix 4a-D

|Attribute
|metadataPointOfContact
|Point of contact for metadata
|0..1
|CI_Responsibility>CI_Individual or CI_Responsibility>CI_Organization
|See S-100 Part 4a Tables 4a-2 and 4a-3

|Attribute
|metadataDateStamp
|Date stamp for metadata
|0..1
|Date
|Metadata creation date, which may or may not be the dataset creation date

|Attribute
|replacedData
|Indicates if a cancelled dataset is replaced by another data file(s)
|0..1
|Boolean
|See Note

|Attribute
|dataReplacement
|Dataset name
|0..*
|CharacterString
|A dataset may be replaced by 1 or more datasets +
See Note

|Attribute
|navigationPurpose
|Classification of intended navigation purpose (for Catalogue indexing purposes)
|0..3
|S100_NavigationPurpose
|If Product Specification is intended for creation of navigational products this attribute should be mandatory

|Role
|resourceMaintenance
|Information about the frequency of resource updates, and the scope of those updates
|0..1
|MD_MaintenanceInformation
|S-100 restricts the multiplicity to 0..1 and adds specific restrictions on the ISO 19115 structure and content. See clause MD_MaintenaceInformation later in this Part +
Format: PnYnMnDTnHnMnS (XML built-in type for ISO 8601 duration). See clause 17-4.9

|
|--
|
|0..*
|Aggregation S100_SupportFileDiscoveryMetadata
|One for each support file linked to this dataset and present in the exchange set

|===

NOTES:: Attribute productSpecification: The values of sub-attributes name and version must correspond to this version of the S-412 product specification. The value of the sub-attribute number must be the number assigned to this version of the S-412 product specification in the GI registry.

==== S100_DataCoverage

[[tab-s100-DataCoverage]]
.S100_DatasCoverage
[cols="a,a,a,^a,a,a",options="header"]
|===
|Role name |Name |Description |Mult |Type |Remarks

|Attribute
|boundingPolygon
|A polygon which defines the actual data limit
|1..*
|EX_BoundingPolygon
|The extent of the dataset limits

|Attribute
|temporalExtent
|Specification of the temporal extent of the coverage
|0..1
|Integer
|A polygon which defines the actual data limit

|Attribute
|optimumDisplayScale
|The scale with which the data is optimally displayed
|0..1
|Integer
|Example: A scale of 1:25000 is encoded as 25000

|Attribute
|maximumDisplayScale
|The maximum scale with which the data is optimally displayed
|1..1
|Integer
|Mandatory in S-412 +
Value 700000 means that S-412 data cannot be viewed at a larger scale than 1:700001 (i.e. at 1:700000 it is turned off).

|Attribute
|minimumDisplayScale
|The minimum scale with which the data is displayed
|0..1
|Integer
|

|Attribute
|approximateGridResolution
|The resolution of gridded or georeferenced data (in metres)
|0..*
|Real
|A single value may be provided when all axes have a common resolution +
For multiple value provision, use axis order as specified in dataset +
May be approximate for ungeorectified data +
For example, for 5 metre resolution, the value 5 must be encoded
(See Note 2)

|===

NOTE 1:: boundingPolygon is restricted to a single GML Polygon with one exterior and 0 or more interiors expressed as Linear Rings using SRS EPSG:4326. The exterior and optional interiors shall be composed of a closed sequence of >=4 coordinate positions expressed individually or as a list (posList). The GML polygon shall have a valid GML identifier.

NOTE 2:: approximateGridResolution: If the grid cell size varies over the extent of the grid, an approximated value based on model parameters or production metadata should be used.

NOTE 1:: If there are multiple grid or TIN features in the dataset, each feature should have a separate dataCoverage attribute in dataset discovery metadata, except that the coverages for intersecting or adjacent features with the same grid resolution may be combined at producer discretion.

NOTE 2:: Bounding polygons for grid features should be the same as the spatial extent of the grid.

NOTE 3:: Bounding polygons for TIN features may either be the union of all triangles defined in the TIN, or the bounding box covering all the vertexes of the TIN.

NOTE 4:: Bounding polygons for multipoint features (DCF 1 and 8) may be one or more reasonably minimized polygons or bounding boxes that together cover all data points.

NOTE 5:: A boundingPolygon is restricted to a single GML Polygon with one exterior and 0 or more interiors expressed as Linear Rings using SRS EPSG:4326. The exterior and optional interiors shall be composed of a closed sequence of >=4 coordinate positions expressed individually or as a list (posList). The GML polygon shall have a valid GML identifier.

NOTE 6: For approximateGridResolution, if the grid cell size varies over the extent of the grid, an approximated value based on model parameters or production metadata should be used. 

==== S100_EncodingFormat

[[tab-s100-EncodingFormat]]
.S100_EncodingFormat
[cols="a,a,a,^a,a",options="header"]
|===
|Role name |Name |Description |Code |Remarks

|Enumeration
|S100_DataFormat
|The encoding format
|-
|The S-100 values ISO/IEC 8211, HDF5 and undefined are not allowed in S-412 datasets

|Value
|ISO/IEC 8211
|The ISO 8211 data format as defined in Part 10a
|1
|-

|Value
|GML
|The GML data format as defined in Part 10b
|2
|Only GML is allowed in S-412

|Value
|HDF5
|The HDF5 data format as defined in Part 10c
|3
|*

|Value
|undefined
|The encoding is defined in the Product Specification
|100
|Use of Product Specification specific encoding means the data product and Product Specification is not intended for an IHO S-100 compliant system

|===

*Support file Metadata*

Support file metadata is intended to describe information about a data resource. It facilitates the management and exploitation of data and is an important requirement for understanding the characteristics of a data resource. If it is required to generate support file metadata in another language than English, an additional instance per language is created. The language is defined in the language attribute of the PT_Locale class.

==== S100_SupportFileDiscoveryMetadata

[[tab-S100_SupportFileDiscoveryMetadata]]
.S100_SupportFileDiscoveryMetadata
[cols="a,a,a,^a,a,a",options="header"]
|===
|Role name |Name |Description |Mult |Type |Remarks

|Class
|S100_SupportFileDiscoveryMetadata
|Metadata about the individual support files in the Exchange Catalogue
|-
|URI
|The S-100 attribute otherDataTypedescription is not used in S-412

|Attribute
|fileName
|Name of the support file
|1..1
|CharacterString
|-

|Attribute
|revisonSatus
|The purpose for which the support file has been issued
|1..1
|S100_SupportFileRevisionStatus
|For example new, replacement, etc.

|Attribute
|editionNumber
|The Edition of the support file
|1..1
|Integer
|When a dataset is initially created, the edition number 1 is assigned to it. The edition number is increased by 1 at each new edition. Edition number remains the same for a re-issue

|Attribute
|issueDate
|Date on which the data was made available by the Data Producer
|0..1
|date
|-

|Attribute
|supportFileSpecification
|The specification used to create this file
|0..1
|S100_SupportFileSpecification
|See Figure 11 and S-100 Appendix 4a-D

|Attribute
|dataType
|The format of the support file
|1..1
|S100_SupportFileFormat
|The only values allowed for support files referenced in datasets is TIFF +
Values XML, XSLT, and LUA are reserved for portrayal catalogue files +
The value ASCII can only be used for portrayal catalogue files that do not fit into one of the other types.


|Attribute
|otherDataDescription
|Support file format other than those listed
|0..1
|CharacterString
|-

|Attribute
|comment
|Optional comment
|0..1
|CharacterString
|-

|Attribute
|compressionFlag
|Indicates if the resource is compressed
|1..1
|Boolean
|True indicates a compressed resource +
False indicates an uncompressed resource

|Attribute
|digitalSignatureReference
|Specifies the algorithm used to compute digitalSignatureValue
|0..1
|S100_DigitalSignatureReference (See Part 15)
|Specifies the algorithm used to compute digitalSignatureValue +
See Figure 11 and S-100 Appendix 4a-D.

|Attribute
|digitalSignatureValue
|Value derived from the digital signature
|0..1
|S100_DigitalSignatureValue (See Part 15)
|The value resulting from application of digitalSignatureReference +
Implemented as the digital signature format specified in S-100 Part 15.

|Attribute
|defaultLocale
|Default language and character set used in the support file
|1..1
|PT_Locale
|See Figure 11 and S-100 Appendix 4a-D

|Attribute
|supportedResource
|Identifier of the resource supported by this support file
|0..*
|CharacterString
|Conventions for identifiers are detailed in S-100 Part 15. S-100 allows file URI, digital signature or cryptographic has checksums to be used

|Attribute
|resourcePurpose
|The purpose of the supporting resource
|0..*
|S100_SupportFilePurpose
|new, replacement, or deletion +
Values "replacement” and “deletion” are allowed only in update datasets.

|Attribute
|otherLocale
|
|0..*
|PT_Locale
|See Figure 11 and S-100 Appendix 4a-D

|Attribute
|fileLocation
|
|1..1
|CharacterString
|Path relative to the root directory of the exchange set +
The location of the file after the exchange set is unpacked into directory <EXCH_ROOT> will be <EXCH_ROOT>/<filePath>/<filename>

|===

==== S100_SupportFileFormat

[[tab-S100_SupportFileFormatt]]
.S100_SupportFileFormat
[cols="a,a,a,^a,a",options="header"]
|===
|Role name |Name |Description |Code |Remarks

|Enumeration
|S100_SupportFileFormat
|The format used in the support file
|-
|The S-100 values JPEG2000, VIDEO, PDF/A or UA, and other are not allowed in S-412.

|Value
|TCT_UTF-8
|UTF-8 text excluding control codes
|1
|-

|Value
|HTML
|Hypertext Markup Language
|3
|-

|Value
|XML
|Extensible Markup Language
|4
|Only for portrayal catalogue files

|Value
|XSLT
|Extensible Stylesheet Language Transformation
|5
|Only for portrayal catalogue files

|Value
|VIDEO
|Representation of moving images in unspecified format
|6
|-

|Value
|TIFF
|Tagged Image File Format
|7
|-

|Value
|PDF/AorUA
|Portable Document File
|8
|ISO 19005, ISO 32000 +
Product Specification developers should take careful considerations in using PDF as a support file format. It is recommended that PDF never be used in products that will be used on a navigation system as it may impair night vision +
Must be PDF/A or UA

|Value
|LUA
|Lua programming language 
|9
|Only for portrayal catalogue files

|Value
|Other
|Other format
|100
|-

|Value
|ASCII
|
|-
|Only for portrayal catalogue files of types not falling into one of the other categories

|===

*Exchange Catalogue File metadata*

==== S100_ExchangeCatalogue

All S-412 Exchange catalogue files must contain at least the mandatory metadata elements in this table.

[[tab-s100-Exchangecatalogue]]
.S100_Exchangecatalogue
[cols="a,a,a,^a,a,a",options="header"]
|===
|Role name |Name |Description |Mult |Type |Remarks

|Class
|S100_Exchangecatalogue
|An Exchange Catalogue contains the discovery metadata about the exchange datasets and support files
|-
|-
|-

|Attribute
|identifier
|Uniquely
|1..1
|S100_ExchangeCatalogueIdentifier
|See Notes below this table

|Attribute
|contact
|Details about the issue of the datasets contained in the Exchange Catalogue
|1..1
|S100_CataloguePointOfContact
|No special constraints on the S-100 class

|Attribute
|productSpecification
|Details av=bout the Product Specifications used for the datasets contained in the Exchange Catalogue
|0..1
|S100_ProductSpecification
|Conditional on all the datasets using the same product specification. See note below this table for constraints on values

|Attribute
|defaultLocale
|Default language and character set used for all metadata record in this Exchange Catalogue
|0..1
|PT_Locale
|Default is English and UTF-8

|Attribute
|otherLocale
|Other languages and character sets used for the localized metadata records in this Exchange Catalogue
|0..*
|PT_Locale
|Required if any localized entries are present in the Exchange Catalogue

|Attribute
|exchangeCatalogueDescription
|Description of what the Exchange Catalogue contains
|1..1
|CharacterString
|-

|Attribute
|exchangeCatalogueComment
|Any additional information
|0..1
|CharacterString
|Old Doc: Any additional Information

|Attribute
|certificates
|Signed public key certificates referred to by digital signatures in the Exchange Set
|0..*
|S100_SE_ CertficateContainerType
|Content defined in S-100 PArt 15. All certificates used, except the SA root certificate (installed separately by the implementing system) shall be included

|Attribute
|dataServerIdentifier
|Identifies the data server for the permit
|0..1
|CharacterString
|-

|Role
|datasetDiscoveryMetadata
|Exchange Catalogues may include or reference discovery metadata for the datasets in the Exchange Set
|0..*
|Aggregation S100_DatasetDiscoveryMetadata
|Metadata for the Feature, Portrayal and Interoperability Catalogues, if any +
Old Doc: blank

|Role
|catalogueDiscoveryMetadata
|Metadata for Catalogue
|0..*
|Aggregation S100_DatasetDiscoveryMetadata
|-

|Role
|supportFileDiscoveryMetadata
|Exchange Catalogues may include or reference discovery metadata for the support files in the Exchange Set
|0..*
|Aggregation S100_SupportFileDiscoveryMetadata
|Old Doc: blank

|
|compressionFlag
|-
|0..1
|Boolean
|TRUE: compressed +
FALSE: not compressed +
If compressed, the method must be that specified in S-100 Part 15.


|Attribute
|metadataLanguage
|English
|1..1
|CharacterString
|All datasets conforming to this PS must use the English language. A catalogue in English must be provided. Discovery metadata elements within catalogues have their own locale attributes and may be repeated in languages other than English.

|Attribute
|exchangecatalogueName
|catalogue.XML
|1..1
|CharacterString
|catalogue filename

|Attribute
|sourceMedia
|
|0..1
|CharacterString
|

|Attribute
|replacedData
|
|0..1
|Boolean
|

|Attribute
|dataReplacement
|
|0..1
|CharacterString
|

|Attribute
|-
|
|0..1
|Aggregation S100_catalogueMetadata
|Metadata for the feature, portrayal, and interoperability catalogues, if any

|===

NOTE 1:: Attribute productSpecification: Class S100_ProductSpecification is depicted in Figure 11 and defined in S-100 Appendix 4a-D. The values of sub-attributes name and version must correspond to this version of the S-412 product specification. (Clause 4.2). The value of the sub-attribute number must be the number assigned to this version of the S-412 product specification in the GI registry.

NOTE 2:: Attribute catalogueIdentifier: Class S100_catalogueIdentifier is depicted in Figure 11 and defined in S-100 Appendix 4a-D. The value of sub-attribute S100_catalogueIdentifier>identifier must be chosen so that a one-to-one mapping from exchange set name to catalogue identifier is recommended. This assumes a system for assigning unique names to exchange sets – as opposed to datasets – is developed, either by the producer or in this specification. Note that an exchange set may contain multiple datasets.

=== language

The exchange language must be English. Other languages may be used as a supplementary option. National geographic names can be left in their original national language in the international attributes, or transliterated or transcribed and used in the international attributes. 
Character strings must be encoded using the character set defined in ISO 10646-1, in Unicode Transformation Format-8 (UTF-8). A BOM (byte order mark) must not be used.

|Attribute
|replacedData
|
|0..1
|Boolean
|

|Attribute
|replacedData
|
|0..1
|Boolean
|
==== ISO 19139 Metadata

For the description of data following metadata are necessary:


[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|MD_Metadata
|root element
|gmd

|fileIdentifier
|Id for dataset
|gmd

|language
|Product language
|gmd

|characterSet
|Used characterset
|gmd

|contact
|Contact data
|gmd

|dateStamp
|date of publishing
|gmd

|identificationInfo
|Specific info about product
|gmd

|===

[source,xml]
----
<?xml version="1.0" encoding="UTF-8"?>
<gmd:MD_Metadata    xmlns:gmd="http://www.isotc211.org/2005/gmd"
                    xmlns:gco="http://www.isotc211.org/2005/gco"
                    xmlns:gml="http://www.opengis.net/gml/3.2">
        <gmd:fileIdentifier> ... </gmd:fileIdentifier>
        <gmd:language> ... </gmd:language>
        <gmd:characterSet> ... </gmd:characterSet>
        <gmd:contact> ... </gmd:contact>
        <gmd:dateStamp> ... </gmd:dateStamp>
        <gmd:identificationInfo> ... </gmd:identificationInfo>
</gmd:MD_Metadata>
----

===== fileIdentifier

[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|fileIdentifier
|Id for dataset
|gmd

|CharacterString
|String contained id value
|gmd

|===

===== language

[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|language
|Language of dataset
|gmd

|LanguageCode
|Code for language
|gmd

|===
[source,xml]
----
<gmd:language>
    <gmd:LanguageCode
        codeList="http://www.isotc211.org/2005/resources/Codelist/ML_gmxCodelists.xml#LanguageCode" 
        codeListValue="eng">English
    </gmd:LanguageCode>
</gmd:language>
----

===== characterSet

[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|characterSet
|characterSet of dataset
|gmd

|MD_CharacterSetCode
|Code for characterSet
|gmd

|===

LanguageCode element contains two attributes:

* codeList Link to the list containing the codes for languages

* codeListValue value from the list defining the used language

[source,xml]
----
<gmd:characterSet>
    <gmd:MD_CharacterSetCode
        codeList="http://www.isotc211.org/2005/resources/Codelist/ML_gmxCodelists.xml#MD_CharacterSetCode" 
        codeListValue="utf8">UTF 8
    </gmd:MD_CharacterSetCode>
</gmd:characterSet>
----

===== contact

[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|contact
|Contact for questions to dataset
|gmd

|CI_ResponsibleParty
|ISO Element for contact data
|gmd

|individualName
|Name of responsible person
|gmd

|CharacterString
|individualName value (text)
|gco

|organisationName
|Name of responsible organisation
|gmd

|CharacterString
|organisationName value (text)
|gco

|contactInfo
|Contact information
|gmd

|CI_Contact
|ISO Element for contact information
|gmd

|phone
|phone
|gmd

|CI_Telephone
|
|gmd

|voice
|
|gmd

|CharacterString
|Voice telephone value (text)
|gco

|facsimile
|
|gmd

|CharacterString
|Fax number value (text)
|gco

|address
|
|gmd

|deliveryPoint
|
|gmd

|CharacterString
|Postal Address (street, house number)
|gco

|city
|
|gmd

|CharacterString
|City name value (text)
|gco

|administrativeArea
|
|gmd

|CharacterString
|Administrative Area name value (text)
|gco

|postalCode
|
|gmd

|CharacterString
|
|gco

|electronicMailAddress
|
|gmd

|CharacterString
|Email value (text)
|gco

|role
|
|gmd

|CI_RoleCode
|
|gmd

|===

CI_RoleCode element contains two attributes:

* codeList: link to the list containing the codes for roles

* codeListValue: value from the list defining the used roles

[source,xml]
----
<gmd:contact>
    <gmd:CI_ResponsibleParty>
        <gmd:individualName>
            <gco:CharacterString>Jürgen Holfort</gco:CharacterString>
        </gmd:individualName>
        <gmd:organisationName>
            <gco:CharacterString>FMHA Germany (BSH)</gco:CharacterString>
        </gmd:organisationName>
        <gmd:contactInfo>
            <gmd:CI_Contact>
                <gmd:phone>
                    <gmd:CI_Telephone>
                        <gmd:voice>
                            <gco:CharacterString>+49 (0) 381 4563-782</gco:CharacterString>
                        </gmd:voice>
                        <gmd:facsimile>
                            <gco:CharacterString>+49 (0) 381 4563-949</gco:CharacterString>
                        </gmd:facsimile>
                    </gmd:CI_Telephone>
                </gmd:phone>
                <gmd:address>
                    <gmd:CI_Address>
                        <gmd:deliveryPoint>
                            <gco:CharacterString>Neptunallee 5</gco:CharacterString>
                        </gmd:deliveryPoint>
                        <gmd:administrativeArea>
                            <gco:CharacterString>Rostock</gco:CharacterString>
                        </gmd:administrativeArea>
                        <gmd:postalCode>
                            <gco:CharacterString>18057</gco:CharacterString>
                        </gmd:postalCode>
                        <gmd:electronicMailAddress>
                            <gco:CharacterString>ice@bsh.de</gco:CharacterString>
                        </gmd:electronicMailAddress>
                    </gmd:CI_Address>
                </gmd:address>
            </gmd:CI_Contact>
        </gmd:contactInfo>
        <gmd:role>
            <gmd:CI_RoleCode
                codeList="http://www.isotc211.org/2005/resources/Codelist/gmxCodelists.xml#CI_RoleCode" codeListValue="originator">originator</gmd:CI_RoleCode>
            </gmd:role>
    </gmd:CI_ResponsibleParty>
</gmd:contact>
----

===== dateStamp

[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|dataStamp
|Date Stamp
|gmd

|Date
|Formatted String (yyyy-MM-dd)
|gco

|===

The dateStamp should be used for the publication date (just day using gco:date or including the time using gco:datetime). The date and time where the chart is considered valid should be given in identificationinfo (see 10.1.1.6). Operational charts should have a time stamp within the temporal extent given in identificationinfo, a dateStamp preceding the temporal extent denotes a prognosis chart, a dateStamp that is more recent then the temporal extent denotes an historic reanalysis or a climatological chart.

[source,xml]
----
<gmd:dateStamp>
  <gco:Date>2013-02-25</gco:Date>
</gmd:dateStamp>
----

===== identificationInfo

[cols="a,a,a",options="header"]
|===
|Element Name |Description |Namespace

|identificationInfo
|
|gmd

|MD_DataIdentification
|
|

|citation
|
|

|CI_Citation
|
|

|title
|
|

|CharacterString
|
|gco

|date
|
|

|CI_Date
|
|

|date
|
|gco

|dateType
|
|

|CI_DateTypeCode
|
|

|abstract
|
|

|CharacterString
|
|gco

|language
|
|

|LanguageCode
|
|

|characterSet
|
|

|MD_CharacterSetCode
|
|

|topicCategory
|
|

|MD_TopicCategoryCode
|
|

|extent
|
|

|EX_Extent
|
|

|geographicElement
|
|

|EX_GeographicBoundingBox
|
|

|westBoundLongitude
|
|

|Decimal
|
|gco

|eastBoundLongitude
|
|

|Decimal
|
|gco

|southBoundLatitude
|
|

|Decimal
|
|gco

|northBoundLatitude
|
|gmd

|Decimal
|
|gco

|temporalElement
|
|gmd

|EX_TemporalExtent
|
|gmd

|extent
|
|gmd

|TimePeriod
|
|gml

|beginPosition
|
|gml

|endPosition
|
|gml

|===

[source,xml]
----
<gmd:identificationInfo>
  <gmd:MD_DataIdentification>
    <gmd:citation>
      <gmd:CI_Citation>
        <gmd:title>
        </gmd:title>
        <gmd:date>
          <gmd:CI_Date>
            <gmd:date>
              <gco:Date>2013-02-25</gco:Date>
            </gmd:date>
          <gmd:dateType>
            <gmd:CI_DateTypeCode
codeList="http://www.isotc211.org/2005/resources/Codelist/ML_gmxCodelists.xml#CI_DateTypeCode" codeListValue="creation">creation</gmd:CI_DateTypeCode>
          </gmd:dateType>
        </gmd:CI_Date>
      </gmd:date>
    </gmd:CI_Citation>
  </gmd:citation>
  <gmd:abstract>
  </gmd:abstract>
  <gmd:language>
    <gmd:LanguageCode
codeList="http://www.isotc211.org/2005/resources/Codelist/ML_gmxCodelists.xml#LanguageCode" codeListValue="eng">English</gmd:LanguageCode>
  </gmd:language>
  <gmd:characterSet>
    <gmd:MD_CharacterSetCode
codeList="http://www.isotc211.org/2005/resources/Codelist/ML_gmxCodelists.xml#MD_CharacterSetCode"
codeListValue="utf8">UTF 8</gmd:MD_CharacterSetCode>
  </gmd:characterSet>
  <gmd:topicCategory>
    <gmd:MD_TopicCategoryCode>geoscientificInformation</gmd:MD_TopicCategoryCode>
  </gmd:topicCategory>
  <gmd:extent>
    <gmd:EX_Extent>
      <gmd:geographicElement>
        <gmd:EX_GeographicBoundingBox>
          <gmd:westBoundLongitude>
            <gco:Decimal>8.963</gco:Decimal>
          </gmd:westBoundLongitude>
        <gmd:eastBoundLongitude>
          <gco:Decimal>30.353</gco:Decimal>
        </gmd:eastBoundLongitude>
        <gmd:southBoundLatitude>
          <gco:Decimal>53.613</gco:Decimal>
        </gmd:southBoundLatitude>
        <gmd:northBoundLatitude>
          <gco:Decimal>65.0</gco:Decimal>
        </gmd:northBoundLatitude>
      </gmd:EX_GeographicBoundingBox>
    </gmd:geographicElement>
    <gmd:temporalElement>
          <gmd:EX_TemporalExtent>
            <gmd:extent>
              <gml:TimePeriod gml:id="ek1-20130225-16">
                <gml:beginPosition>2013-02-25</gml:beginPosition>
                <gml:endPosition>2013-02-27</gml:endPosition>
              </gml:TimePeriod>
            </gmd:extent>
          </gmd:EX_TemporalExtent>
        </gmd:temporalElement>
      </gmd:EX_Extent>
    </gmd:extent>
  </gmd:MD_DataIdentification>
</gmd:identificationInfo>

----

=== Language

The language used in metadata must be English. Other languages are optional and only as addition to the English version.

Metadata used for the discovery, identification, and use of S-412 datasets in S-100-based navigation systems (specifically, an S-100 capable ECDIS) is encoded in the exchange catalogue. This metadata conforms to <<iho-s100,part=17>>, with any product-specific restrictions noted in this section.

[[subsec-exchange-set-metadata]]
=== Exchange Set metadata
For information exchange, there are several categories of metadata required: metadata about the overall Exchange Catalogue, metadata about each of the datasets contained in the Catalogue.

The discovery metadata classes have numerous attributes which enable important information about the datasets to be examined without the need to process the data (e.g., decryption, decompression, loading). Other Catalogues can be included in the Exchange Set in support of the datasets such as Feature and Portrayal.

The following clauses define the mandatory and optional metadata needed for S-412. In some cases, the metadata may be repeated in a national language. If this is the case it is noted in the Remarks column.

The XML schemas for S-412 exchange catalogues will be available from the IHO Geospatial Information (GI) Registry and/or the S-100 GitHub site (https://github.com/IHO-S100WG).

The S-412 exchange catalogue uses the S-100 exchange catalogue schemas which are available from the S-100 schema server at https://schemas.s100dev.net (downloadable archives are also available on the site for offline use). Implementation of the S-412-specific constraints described in following clauses below is left to developer decision as it can be done in various ways depending on implementation frameworks and the requirements of production or application software.

[%landscape]
<<<

[[subsec-s100_exchangecatalogue]]
=== S100_ExchangeCatalogue

Each Exchange Set has a single S100_ExchangeCatalogue which contains meta information for the data in the Exchange Set.

S-412 uses S100_ExchangeCatalogue without modification. 

==== S100_ExchangeCatalogueIdentifier
S-412 uses S100_ExchangeCatalogueIdentifier without modification.

==== S100_CataloguePointOfContact
S-412 uses S100_CataloguePointOfContact without modification.



==== S100_NavigationPurpose
S-412 uses S100_NavigationPurpose without modification.

==== S100_DataCoverage
S-412 uses S100_DataCoverage without modification, but with additional remarks and changes to the multiplicity.

[[tab-s100-dataCoverage-params]]
.S100_DataCoverage parameters
[cols="a,a,a,^a,a,a",options="header"]
|===
|Role name |Name |Description |Mult |Type |Remarks

|Class
|S100_DataCoverage
|A spatial extent where data is provided along with the display scale information for the provided data
|-
|-
|This field is used by user systems as part of the data loading and unloading algorithms, and it is strongly encouraged that Product Specifications mandate the use of one or more of the displayScale provided as part of S100_DataCoverage.

|Attribute
|boundingPolygon
|A polygon which defines the actual data limit
|1
|EX_BoundingPolygon
|<<note-s100datacoverage-boundingPolygon>>

|Attribute
|temporalExtent
|Specification of the temporal extent of the coverage
|*0*
|S100_TemporalExtent
|*The _temporalExtent_ is not used in S-412.*

|Attribute
|optimumDisplayScale
|The scale at which the data is optimally displayed
|1
|Integer
|Example: A scale of 1:25000 is encoded as 25000

|Attribute
|maximumDisplayScale
|The maximum scale at which the data is displayed
|0..1
|Integer
|

|Attribute
|minimumDisplayScale
|The minimum scale at which the data is displayed
|0..1
|Integer
|

|===
[[note-s100datacoverage-boundingPolygon]]
[NOTE]
====
_boundingPolygon_ is restricted to a single GML Polygon with one exterior and 0 or more interiors expressed as Linear Rings using SRS EPSG:4326. The exterior and optional interiors shall be composed of a closed sequence of >=4 coordinate positions expressed individually or as a list (posList). The GML polygon shall have a valid GML identifier.
====

==== S100_Purpose
S-412 uses S100_Purpose without modification, but with a restriction on the allowed values.

[[tab-s100-purpose]]
.S100_Purpose
[cols="a,a,a,^a,a,options="header"]
|===
|Role name |Name |Description |Code |Remarks

|Enumeration
|S100_Purpose
|The purpose of the dataset
|-
|*The S-100 values _update_, _reissue_, and _delta_ are not used in S-412.*

|Value
|newDataset
|Brand new dataset
|1
|No data has previously been produced for this area.

|Value
|newEdition
|New edition of the dataset or Catalogue
|2
|Includes new information which has not been previously distributed by updates.

|Value
|cancellation
|Dataset or Catalogue that has been cancelled
|5
|Indicates the dataset or Catalogue should no longer be used and can be deleted.
|===

==== S100_EncodingFormat
S-412 uses S100_EncodingFormat with a restriction on the allowed values to permit only the S-100 GML format for S-412 datasets.

[[tab-s100-encodingFormat-params]]
.S100_EncodingFormat parameters
[cols="a,a,a,^a,a",options="header"]
|===
|Role name |Name |Description |Code |Remarks

|Enumeration
|S100_EncodingFormat
|The encoding format
|-
|*The only value allowed in S-412 is "`GML`".*

|Value
|GML
|The GML data format as defined in <<iho-s100,part=10b>>
|3
|-
|===

==== S100_ProductSpecification
S-412 uses S100_ProductSpecification without modification, but with additional remarks and changes to the multiplicity.

[[tab-s100-productSpecification-params]]
.S100_ProductSpecification parameters
[cols="a,a,a,^a,a,a",options="header"]
|===
|Role name |Name |Description |Mult |Type |Remarks

|Class
|S100_ProductSpecification
|The Product Specification contains the information needed to build the specified product.
|-
|-
|-

|Attribute
|name
|The name of the Product Specification used to create the datasets
|*1*
|CharacterString
|The name in the GI Registry should be used for this field. +
*For S-412, this name is "" (as of 25 June 2024).*

|Attribute
|version
|The version number of the Product Specification
|*1*
|CharacterString
|TR 2/2007 specifies versioning of Product Specifications +
*Example: 1.2.1 for S-412 Edition 1.2.1*

|Attribute
|date
|The version date of the Product Specification
|*1*
|Date
|-

|Attribute
|productIdentifier
|Machine readable unique identifier of a product type
|1
|CharacterString +
(Restricted to Product ID values from the IHO Product Specification Register in the IHO Geospatial Information (GI) Registry)
|*For S-412, this identifier is "S-412" (without quotes).*

|Attribute
|number
|The number used to lookup the product in the Product Specification Register of the IHO GI registry
|1
|Integer
|For IHO Product Specifications, these numbers should be taken from the IHO Product Specification Register in the IHO GI Registry. +
*The corresponding Idx-number of the IHO Registry for S-412 is numbered _xxx_.*

|===


==== S100_ProtectionScheme
S-412 uses S100_ProtectionScheme without modification.

=== S100_CatalogueDiscoveryMetadata
S-412 uses S100_CatalogueDiscoveryMetadata without modification.

==== S100_CatalogueScope
S-412 uses S100_CatalogueScope without modification.

[[sec-pt-locale]]
==== PT_Locale
S-412 uses PT_Locale without modification.
The class PT_Locale is defined in <<iso-19115-1>>. LanguageCode, CountryCode, and MD_CharacterSetCode are ISO codelists which are defined in a codelists file which is part of the S-100 Edition 5.2.0 schema distribution.

[[sec-certs-digsign]]
=== Certificates and Digital Signatures
The classes S100_SE_CertificateContainerType (<<iho-s100,part=15,clause=8.11.1>>), S100_SE_DigitalSignatureReference (<<iho-s100,part=15,clause=8.11.7>>), and S100_SE_DigitalSignature are defined in <<iho-s100,part=15>> and implemented in the S-100 generic schemas.

In accordance with <<iho-s100,part=15>>, only the ECDSA algorithm is allowed from the S100_SE_DigitalSignatureReference enumeration.

S-412 uses S100_SE_DigitalSignature without modification. As stated in <<iho-s100,part=15,clause=15-8.11.3>>:

"The class S100_SE_DigitalSignature is realized as one of either S100_SE_SignatureOnData (a digital signature of a particular identified resource) or an additional digital signature defined using the class S100_SE_AdditionalSignature, each of which is either a S100_SE_SignatureOnData or S100_SE_SignatureOnSignature element as described in <<iho-s100,part=15,clause=8.8>>. <<iho-s100,part=17>> metadata thus allows for multiple digital signatures, a single mandatory S100_SE_SignatureOnData and any number of additional signatures, either of the data or other signatures."
